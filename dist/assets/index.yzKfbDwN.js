const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Logo.DbLmMzqF.js","./vendor.KJucXqrG.js","./OptmaLogo.CXo_ymoy.js","./SocialIcon.CRY73UcL.js","./Home.BE7fEm4h.js","./Home.eT5jYQVk.css","./Menu._mjwemsS.js","./Menu.D-fXL3En.css","./ProductsDetails.D_hAmVi8.js","./ProductsDetails.IKzMgl-_.css","./PrivacyPolicy.Bzl1ax6O.js","./PrivacyPolicy.-Iz3R8P6.css","./ShoppinCart.Dm80pwhV.js","./Checkout.CEqgCP9p.js","./Checkout.DXhWgCFD.css","./ShoppinCart.DKMRHRz8.css","./CookieConsent.DzlR13Wy.js","./CookieConsent.COH5qCXW.css"])))=>i.map(i=>d[i]);
import{r as e,R as a,j as r,H as t,M as o,S as i,i as s,g as n,a as l,b as c,B as d,u as p,A as m,m as u,C as h,c as f,d as j,e as g}from"./vendor.KJucXqrG.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const x={},v=function(e,a,r){let t=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};const o=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),s=(null==i?void 0:i.nonce)||(null==i?void 0:i.getAttribute("nonce"));t=e(a.map((e=>{if(e=function(e,a){return new URL(e,a).href}(e,r),e in x)return;x[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(!!r)for(let r=o.length-1;r>=0;r--){const t=o[r];if(t.href===e&&(!a||"stylesheet"===t.rel))return}else if(document.querySelector(`link[href="${e}"]${t}`))return;const i=document.createElement("link");return i.rel=a?"stylesheet":"modulepreload",a||(i.as="script"),i.crossOrigin="",i.href=e,s&&i.setAttribute("nonce",s),document.head.appendChild(i),a?new Promise(((a,r)=>{i.addEventListener("load",a),i.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function o(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return t.then((a=>{for(const e of a||[])"rejected"===e.status&&o(e.reason);return e().catch(o)}))},y=e.lazy((()=>v((()=>import("./Logo.DbLmMzqF.js")),__vite__mapDeps([0,1]),import.meta.url))),_=a.memo((({frame:a,handleMenuClick:s,openWhatsApp:n,irParaCarrinho:l,carrinho:c})=>r.jsx("header",{children:r.jsxs("div",{className:"header-content",children:[r.jsx(e.Suspense,{fallback:r.jsx("div",{className:"logo-placeholder"}),children:r.jsx(y,{})}),r.jsxs("nav",{className:"menu",children:[r.jsxs("button",{className:"menu-item "+(1===a?"active":""),onClick:()=>s(1),children:[r.jsx(t,{style:{display:"inline-block"},size:22})," Início"]}),r.jsx("button",{className:"menu-item "+(3===a?"active":""),onClick:()=>s(3),children:"Cardápio"}),r.jsx("a",{className:"menu-item",href:"https://www.ifood.com.br/inicio",target:"_blank",rel:"noopener noreferrer",children:"Ifood"}),r.jsx("button",{className:"menu-item",onClick:n,children:"Fale conosco"})]}),r.jsx("div",{className:"cart-container",children:r.jsxs("button",{className:"cart-button",onClick:l,"aria-label":`Carrinho com ${c.length} itens`,children:[r.jsx(o,{query:"(max-width: 768px)",children:r.jsx(i,{size:20,color:"#A9373E"})}),r.jsx(o,{query:"(min-width: 769px)",children:r.jsx(i,{size:30,color:"#A9373E"})}),r.jsx("span",{className:"carrinho-length","aria-hidden":"true",children:c.length})]})})]})}))),b="https://wa.me/5562999944838",P=`${b}?text=${(()=>{const e=(new Date).getHours();let a;return a=e>=5&&e<12?"Bom dia":e>=12&&e<18?"Boa tarde":"Boa noite",`${a}%2C%20gostaria%20de%20falar%20com%20a%20*_SNACKS%20di%20Chris_*`})()}`,w=`${b}?text=${(()=>{const e=(new Date).getHours();let a;return a=e>=5&&e<12?"Bom dia":e>=12&&e<18?"Boa tarde":"Boa noite",`${a}%2C%20gostaria%20de%20mais%20informa%C3%A7%C3%B5es%20sobre%20a%20*Pol%C3%ADtica%20de%20Privacidade*%20de%20voc%C3%AAs`})()}`,C=e=>{if(!e)return"/categories/default.jpg";return`/categories/${e.split("/").pop()}`},E=e=>{if(!e)return"/products/default.jpg";if(e&&e.startsWith("http"))return e;return`/products/${e?e.split("/").pop():"default.jpg"}`},N="/politica-de-privacidade",k=e.lazy((()=>v((()=>import("./OptmaLogo.CXo_ymoy.js")),__vite__mapDeps([2,1]),import.meta.url))),A=e.lazy((()=>v((()=>import("./SocialIcon.CRY73UcL.js")),__vite__mapDeps([3,1]),import.meta.url))),S=a.memo((()=>r.jsxs("footer",{className:"footer",children:[r.jsxs("div",{className:"footer-left",children:[r.jsxs("p",{className:"footer-title",children:[r.jsx("span",{className:"primeiraparte",children:"SNACKS"}),r.jsx("span",{className:"segundaparte",children:" di Chris"})]}),r.jsx("p",{className:"footer-subtitle",children:"Loja de gostosuras"}),r.jsx("a",{href:"/politica-de-privacidade",className:"footer-privacy-link","aria-label":"Política de Privacidade",children:"Política de Privacidade"})]}),r.jsxs("div",{className:"footer-center",children:[r.jsx("p",{className:"footer-dev",children:"Desenvolvido por Optma Idea. 2025"}),r.jsx(e.Suspense,{fallback:r.jsx("div",{className:"logo-placeholder"}),children:r.jsx("a",{href:"https://optmaidea.wixsite.com/optmaidea",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:r.jsx(k,{})})}),r.jsx("p",{className:"footer-dev",children:"Todos os direitos reservados"})]}),r.jsx("div",{className:"footer-right",children:r.jsxs(e.Suspense,{fallback:r.jsx("div",{className:"icon-placeholder"}),children:[r.jsx(A,{url:"https://instagram.com",platform:"instagram",alt:"Instagram"}),r.jsx(A,{url:"https://ifood.com.br",platform:"ifood",alt:"iFood"}),r.jsx(A,{url:P,platform:"whatsapp",alt:"WhatsApp"})]})})]}))),D=s({apiKey:"AIzaSyDetge25PFs1Xb3Bw_noWaERidLF3t8fc0",authDomain:"snack-di-chris-app.firebaseapp.com",projectId:"snack-di-chris-app",storageBucket:"snack-di-chris-app.firebasestorage.app",messagingSenderId:"532721464762",appId:"1:532721464762:web:6f239482520fbfacf81983"}),I=n(D);l(D),c(D);const L=e.lazy((()=>v((()=>import("./Home.BE7fEm4h.js")),__vite__mapDeps([4,1,5]),import.meta.url))),R=e.lazy((()=>v((()=>import("./Menu._mjwemsS.js")),__vite__mapDeps([6,1,7]),import.meta.url))),O=e.lazy((()=>v((()=>import("./ProductsDetails.D_hAmVi8.js")),__vite__mapDeps([8,1,9]),import.meta.url))),B=e.lazy((()=>v((()=>import("./PrivacyPolicy.Bzl1ax6O.js")),__vite__mapDeps([10,1,11]),import.meta.url))),T=e.lazy((()=>v((()=>import("./ShoppinCart.Dm80pwhV.js")),__vite__mapDeps([12,1,13,14,15]),import.meta.url))),z=e.lazy((()=>v((()=>import("./Checkout.CEqgCP9p.js")),__vite__mapDeps([13,1,14]),import.meta.url))),V=e.lazy((()=>v((()=>import("./CookieConsent.DzlR13Wy.js")),__vite__mapDeps([16,1,17]),import.meta.url))),$=()=>r.jsx("div",{className:"loading-container",children:r.jsx("div",{className:"loading-spinner"})});function F(){const[a,t]=e.useState(1),[o,i]=e.useState([]),[s,n]=e.useState([]),[l,c]=e.useState(null),[d,g]=e.useState(null),[x,v]=e.useState([]),[y,b]=e.useState(!1),[w,C]=e.useState(!1),[E,N]=e.useState(!1),k=p();e.useEffect((()=>{(async()=>{try{console.log("Buscando produtos do Firestore...");const e=f(I,"products"),a=(await j(e)).docs.map((e=>{const a=e.data();return{id:e.id,productname:a.productName||"",description:a.description||"",price:a.price||0,image:a.image||"",imagePath:a.imagePath||"",categoria:a.categoryRef||"",available:void 0===a.available||a.available,ingredientes:a.ingredientRefs||[],alergenicos:a.allergenicAgentRefs||[]}}));a.filter((e=>e.available));n(a),console.log("Produtos carregados do Firestore:",a);const r=[...new Set(a.map((e=>e.categoria)))];i(r.map((e=>({category:e,name:e})))),console.log("Categorias definidas a partir do Firestore:",r)}catch(e){console.error("Erro ao buscar produtos do Firestore: ",e)}})()}),[]),e.useEffect((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[a]),e.useEffect((()=>{const e=function(e,a){let r,t;return function(){const o=this,i=arguments;t?(clearTimeout(r),r=setTimeout((function(){Date.now()-t>=a&&(e.apply(o,i),t=Date.now())}),a-(Date.now()-t))):(e.apply(o,i),t=Date.now())}}((()=>{N(window.scrollY>300)}),100);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),e.useEffect((()=>{const e=window.location.pathname;t("/politica-de-privacidade"===e?"privacy":"/cardapio"===e?3:1)}),[]);const A=e.useCallback((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]),D=["Batata recheada","Batata Rosti","Mandioca Rosti","Sobremesas","Bebidas"],F=l?s.filter((e=>e.categoria===l.category)):D.flatMap((e=>s.filter((a=>a.categoria===e)))),q=d?{...d,ingredientesDetalhados:d.ingredientes?Array.isArray(d.ingredientes)?d.ingredientes:d.ingredientes.split(",").map((e=>e.trim())):[],alergenicosDetalhados:d.alergenicos?Array.isArray(d.alergenicos)?d.alergenicos:d.alergenicos.split(",").map((e=>e.trim())):[]}:null,M=()=>b(!0),W=()=>v([]),H=()=>{c(null),g(null),t(3),k("/cardapio")};return r.jsxs("div",{className:"App",children:[r.jsx(_,{frame:a,handleMenuClick:e=>{c(null),t(e),1===e&&k("/"),3===e&&k("/cardapio"),"privacy"===e&&k("/politica-de-privacidade")},openWhatsApp:()=>{window.open(P,"_blank")},irParaCarrinho:M,carrinho:x}),r.jsx(m,{mode:"wait",children:r.jsxs(e.Suspense,{fallback:r.jsx($,{}),children:[1===a&&r.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(L,{onCategoriaClick:e=>{c(e),t(3),k("/cardapio")}})},"frame1"),3===a&&r.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(R,{categoriaSelecionada:l,produtos:F,onProdutoClick:e=>{g(e),t(5)},categoriasFromFirebase:o,categoriasOrdenadas:D,onVoltar:()=>{c(null),t(1),k("/")}})},"frame3"),"privacy"===a&&r.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(B,{})},"privacy"),5===a&&d&&r.jsx(O,{produto:q,onClose:()=>{g(null),t(3),k("/cardapio")},adicionarAoCarrinho:e=>{!1!==e.available?v((a=>{const r=a.find((a=>a.id===e.id&&a.comentario===e.comentario));return r?a.map((a=>a===r?{...a,quantidade:a.quantidade+e.quantidade}:a)):[...a,{...e}]})):console.log("Produto indisponível não pode ser adicionado ao carrinho:",e)},irParaCarrinho:M,voltarParaProdutos:H})]})}),r.jsxs(e.Suspense,{fallback:null,children:[y&&r.jsx(T,{items:x,onClose:()=>b(!1),onRemoveItem:e=>{v((a=>a.filter((a=>a.id!==e))))},onClearCart:W,voltarParaProdutos:H,onUpdateQuantidade:(e,a)=>{v((r=>r.map((r=>r.id===e?{...r,quantidade:a}:r))))},onFinalizarPedido:()=>{b(!1),C(!0)}}),w&&r.jsx(z,{carrinho:x,totalPedido:x.reduce(((e,a)=>e+a.preco*a.quantidade),0),onCancelar:()=>{C(!1),t(3),k("/cardapio")},limparCarrinho:W,voltarParaInicio:()=>{c(null),g(null),t(1),k("/")}})]}),E&&r.jsxs("button",{title:"Voltar ao topo",className:"button-to-top active",onClick:A,children:[r.jsx("div",{children:r.jsx(h,{})}),r.jsx("div",{children:"Voltar ao topo"})]}),r.jsxs(e.Suspense,{fallback:null,children:[r.jsx(S,{}),r.jsx(V,{})]})]})}function q(){return r.jsx(d,{children:r.jsx(F,{})})}g.createRoot(document.getElementById("root")).render(r.jsx(a.StrictMode,{children:r.jsx(q,{})}));export{N as P,w as W,E as a,C as g};
