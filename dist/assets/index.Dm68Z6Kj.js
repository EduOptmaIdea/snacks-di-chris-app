const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Logo.DbLmMzqF.js","./vendor.KJucXqrG.js","./OptmaLogo.CXo_ymoy.js","./SocialIcon.CRY73UcL.js","./Home.DwYfJlYr.js","./Home.eT5jYQVk.css","./Menu.ZbxuYU6j.js","./Menu.uZL7-77v.css","./ProductsDetails.B_Uh5tqg.js","./ProductsDetails.rg_O8IRr.css","./PrivacyPolicy.G471OBFT.js","./PrivacyPolicy.-Iz3R8P6.css","./ShoppinCart.Cch2odWB.js","./Checkout.B2i3g99h.js","./Checkout.DXhWgCFD.css","./ShoppinCart.DKMRHRz8.css","./CookieConsent.DjK2JeO_.js","./CookieConsent.COH5qCXW.css"])))=>i.map(i=>d[i]);
import{r as e,R as a,j as r,H as t,M as i,S as o,i as s,g as n,a as c,b as l,c as d,d as p,B as m,u,A as h,m as g,C as f,e as j}from"./vendor.KJucXqrG.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const y={},x=function(e,a,r){let t=Promise.resolve();if(a&&a.length>0){let e=function(e){return Promise.all(e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))))))};const i=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),s=(null==o?void 0:o.nonce)||(null==o?void 0:o.getAttribute("nonce"));t=e(a.map((e=>{if(e=function(e,a){return new URL(e,a).href}(e,r),e in y)return;y[e]=!0;const a=e.endsWith(".css"),t=a?'[rel="stylesheet"]':"";if(!!r)for(let r=i.length-1;r>=0;r--){const t=i[r];if(t.href===e&&(!a||"stylesheet"===t.rel))return}else if(document.querySelector(`link[href="${e}"]${t}`))return;const o=document.createElement("link");return o.rel=a?"stylesheet":"modulepreload",a||(o.as="script"),o.crossOrigin="",o.href=e,s&&o.setAttribute("nonce",s),document.head.appendChild(o),a?new Promise(((a,r)=>{o.addEventListener("load",a),o.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=e,window.dispatchEvent(a),!a.defaultPrevented)throw e}return t.then((a=>{for(const e of a||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))},v=e.lazy((()=>x((()=>import("./Logo.DbLmMzqF.js")),__vite__mapDeps([0,1]),import.meta.url))),_=a.memo((({frame:a,handleMenuClick:s,openWhatsApp:n,irParaCarrinho:c,carrinho:l})=>r.jsx("header",{children:r.jsxs("div",{className:"header-content",children:[r.jsx(e.Suspense,{fallback:r.jsx("div",{className:"logo-placeholder"}),children:r.jsx(v,{})}),r.jsxs("nav",{className:"menu",children:[r.jsxs("button",{className:"menu-item "+(1===a?"active":""),onClick:()=>s(1),children:[r.jsx(t,{style:{display:"inline-block"},size:22})," Início"]}),r.jsx("button",{className:"menu-item "+(3===a?"active":""),onClick:()=>s(3),children:"Cardápio"}),r.jsx("a",{className:"menu-item",href:"https://www.ifood.com.br/inicio",target:"_blank",rel:"noopener noreferrer",children:"Ifood"}),r.jsx("button",{className:"menu-item",onClick:n,children:"Fale conosco"})]}),r.jsx("div",{className:"cart-container",children:r.jsxs("button",{className:"cart-button",onClick:c,"aria-label":`Carrinho com ${l.length} itens`,children:[r.jsx(i,{query:"(max-width: 768px)",children:r.jsx(o,{size:20,color:"#A9373E"})}),r.jsx(i,{query:"(min-width: 769px)",children:r.jsx(o,{size:30,color:"#A9373E"})}),r.jsx("span",{className:"carrinho-length","aria-hidden":"true",children:l.length})]})})]})}))),b="https://wa.me/5562999944838",P=`${b}?text=${(()=>{const e=(new Date).getHours();let a;return a=e>=5&&e<12?"Bom dia":e>=12&&e<18?"Boa tarde":"Boa noite",`${a}%2C%20gostaria%20de%20falar%20com%20a%20*_SNACKS%20di%20Chris_*`})()}`,w=`${b}?text=${(()=>{const e=(new Date).getHours();let a;return a=e>=5&&e<12?"Bom dia":e>=12&&e<18?"Boa tarde":"Boa noite",`${a}%2C%20gostaria%20de%20mais%20informa%C3%A7%C3%B5es%20sobre%20a%20*Pol%C3%ADtica%20de%20Privacidade*%20de%20voc%C3%AAs`})()}`,C=e=>{if(!e)return"/categories/default.jpg";if(e.startsWith("http"))return e;return`/categories/${e.split("/").pop()}`},E=e=>{if(!e)return"/products/default.jpg";if(e.startsWith("http"))return e;return`/products/${e.split("/").pop()}`},A="/politica-de-privacidade",N=e.lazy((()=>x((()=>import("./OptmaLogo.CXo_ymoy.js")),__vite__mapDeps([2,1]),import.meta.url))),k=e.lazy((()=>x((()=>import("./SocialIcon.CRY73UcL.js")),__vite__mapDeps([3,1]),import.meta.url))),S=a.memo((()=>r.jsxs("footer",{className:"footer",children:[r.jsxs("div",{className:"footer-left",children:[r.jsxs("p",{className:"footer-title",children:[r.jsx("span",{className:"primeiraparte",children:"SNACKS"}),r.jsx("span",{className:"segundaparte",children:" di Chris"})]}),r.jsx("p",{className:"footer-subtitle",children:"Loja de gostosuras"}),r.jsx("a",{href:"/politica-de-privacidade",className:"footer-privacy-link","aria-label":"Política de Privacidade",children:"Política de Privacidade"})]}),r.jsxs("div",{className:"footer-center",children:[r.jsx("p",{className:"footer-dev",children:"Desenvolvido por Optma Idea. 2025"}),r.jsx(e.Suspense,{fallback:r.jsx("div",{className:"logo-placeholder"}),children:r.jsx("a",{href:"https://optmaidea.wixsite.com/optmaidea",target:"_blank",rel:"noopener noreferrer",className:"footer-link",children:r.jsx(N,{})})}),r.jsx("p",{className:"footer-dev",children:"Todos os direitos reservados"})]}),r.jsx("div",{className:"footer-right",children:r.jsxs(e.Suspense,{fallback:r.jsx("div",{className:"icon-placeholder"}),children:[r.jsx(k,{url:"https://instagram.com",platform:"instagram",alt:"Instagram"}),r.jsx(k,{url:"https://ifood.com.br",platform:"ifood",alt:"iFood"}),r.jsx(k,{url:P,platform:"whatsapp",alt:"WhatsApp"})]})})]}))),R=s({apiKey:"AIzaSyDetge25PFs1Xb3Bw_noWaERidLF3t8fc0",authDomain:"snack-di-chris-app.firebaseapp.com",projectId:"snack-di-chris-app",storageBucket:"snack-di-chris-app.firebasestorage.app",messagingSenderId:"532721464762",appId:"1:532721464762:web:6f239482520fbfacf81983"}),I=n(R);c(R),l(R);let L={},D={},O=!1;const z=e=>{if(!e)return e;const a=(r=e.ingredientes)&&Array.isArray(r)?r.map((e=>({id:e,name:L[e]||`Ingrediente ${e}`}))):[];var r;const t=(i=e.alergenicos)&&Array.isArray(i)?i.map((e=>({id:e,name:D[e]||`Alergênico ${e}`}))):[];var i;return{...e,ingredientes:e.ingredientes,ingredientesResolvidos:a,ingredientesNomes:a.map((e=>e.name)),alergenicos:e.alergenicos,alergenicosResolvidos:t,alergenicosNomes:t.map((e=>e.name))}},T=e.lazy((()=>x((()=>import("./Home.DwYfJlYr.js")),__vite__mapDeps([4,1,5]),import.meta.url))),$=e.lazy((()=>x((()=>import("./Menu.ZbxuYU6j.js")),__vite__mapDeps([6,1,7]),import.meta.url))),B=e.lazy((()=>x((()=>import("./ProductsDetails.B_Uh5tqg.js")),__vite__mapDeps([8,1,9]),import.meta.url))),M=e.lazy((()=>x((()=>import("./PrivacyPolicy.G471OBFT.js")),__vite__mapDeps([10,1,11]),import.meta.url))),V=e.lazy((()=>x((()=>import("./ShoppinCart.Cch2odWB.js")),__vite__mapDeps([12,1,13,14,15]),import.meta.url))),q=e.lazy((()=>x((()=>import("./Checkout.B2i3g99h.js")),__vite__mapDeps([13,1,14]),import.meta.url))),F=e.lazy((()=>x((()=>import("./CookieConsent.DjK2JeO_.js")),__vite__mapDeps([16,1,17]),import.meta.url))),W=()=>r.jsx("div",{className:"loading-container",children:r.jsx("div",{className:"loading-spinner"})});function H(){const[a,t]=e.useState(1),[i,o]=e.useState([]),[s,n]=e.useState([]),[c,l]=e.useState(null),[m,j]=e.useState(null),[y,x]=e.useState([]),[v,b]=e.useState(!1),[w,C]=e.useState(!1),[E,A]=e.useState(!1),N=u(),k=["Batata recheada","Batata Rosti","Mandioca Rosti","Sobremesas","Bebidas"];e.useEffect((()=>{(async()=>{try{await(async()=>{if(O)return{ingredientsMap:L,allergenicAgentsMap:D};try{const e=d(I,"ingredientsList"),a=await p(e);L={},a.docs.forEach((e=>{const a=e.data();L[e.id]=a.name||`Ingrediente ${e.id}`}));const r=d(I,"allergenicAgentsList"),t=await p(r);return D={},t.docs.forEach((e=>{const a=e.data();D[e.id]=a.name||`Alergênico ${e.id}`})),O=!0,{ingredientsMap:L,allergenicAgentsMap:D}}catch(e){return console.error("Erro ao inicializar mapas de referência:",e),{ingredientsMap:{},allergenicAgentsMap:{}}}})();const e=d(I,"categories"),a=await p(e),r={},t=[];a.docs.forEach((e=>{const a=e.data(),i=a.category||"Categoria "+e.id;r[e.id]=i,t.push({id:e.id,category:i,name:i,description:a.description||"",image:a.image||"",order:a.order||999})})),t.sort(((e,a)=>{const r=k.indexOf(e.category),t=k.indexOf(a.category);return-1!==r&&-1!==t?r-t:-1!==r?-1:-1!==t?1:e.order-a.order})),o(t);const i=d(I,"products"),s=await p(i),c=(await Promise.all(s.docs.map((async e=>{const a=e.data();let t="Categoria Desconhecida",i="";a.categoryRef&&("string"==typeof a.categoryRef?(i=a.categoryRef,t=r[a.categoryRef]||"Categoria "+a.categoryRef):a.categoryRef.path&&(i=a.categoryRef.path.split("/").pop(),t=r[i]||"Categoria "+i));const o=a.productName||a.name||"",s={id:e.id,productname:o,name:o,nome:o,description:a.description||"",price:a.price||0,preco:a.price||0,image:a.image||"",imagePath:a.imagePath||"",images:a.image||a.imagePath||"",categoria:t,category:t,categoryId:i,available:void 0===a.available||a.available,ingredientes:a.ingredientRefs||[],alergenicos:a.allergenicAgentRefs||[]};return z(s)})))).filter((e=>e.available));n(c)}catch(e){console.error("Erro ao buscar produtos do Firestore: ",e)}})()}),[]),e.useEffect((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[a]),e.useEffect((()=>{const e=function(e,a){let r,t;return function(){const i=this,o=arguments;t?(clearTimeout(r),r=setTimeout((function(){Date.now()-t>=a&&(e.apply(i,o),t=Date.now())}),a-(Date.now()-t))):(e.apply(i,o),t=Date.now())}}((()=>{A(window.scrollY>300)}),100);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}),[]),e.useEffect((()=>{const e=window.location.pathname;t("/politica-de-privacidade"===e?"privacy":"/cardapio"===e?3:1)}),[]);const R=e.useCallback((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]),H=c?c.category?s.filter((e=>e.categoria===c.category||e.category===c.category)):s.filter((e=>e.categoryId===c.id)):s,K=m?{...m,ingredientesDetalhados:m.ingredientesNomes||(m.ingredientes?Array.isArray(m.ingredientes)?m.ingredientes:m.ingredientes.split(",").map((e=>e.trim())):[]),alergenicosDetalhados:m.alergenicosNomes||(m.alergenicos?Array.isArray(m.alergenicos)?m.alergenicos:m.alergenicos.split(",").map((e=>e.trim())):[])}:null,U=()=>b(!0),Q=()=>x([]),X=()=>{l(null),j(null),t(3),N("/cardapio")};return r.jsxs("div",{className:"App",children:[r.jsx(_,{frame:a,handleMenuClick:e=>{l(null),t(e),1===e&&N("/"),3===e&&N("/cardapio"),"privacy"===e&&N("/politica-de-privacidade")},openWhatsApp:()=>{window.open(P,"_blank")},irParaCarrinho:U,carrinho:y}),r.jsx(h,{mode:"wait",children:r.jsxs(e.Suspense,{fallback:r.jsx(W,{}),children:[1===a&&r.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(T,{onCategoriaClick:e=>{l(e),t(3),N("/cardapio")},categorias:i})},"frame1"),3===a&&r.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx($,{categoriaSelecionada:c,produtos:H,onProdutoClick:e=>{j(e),t(5)},categoriasFromFirebase:i,categoriasOrdenadas:k,onVoltar:()=>{l(null),t(1),N("/")}})},"frame3"),"privacy"===a&&r.jsx(g.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsx(M,{})},"privacy"),5===a&&m&&r.jsx(B,{produto:K,onClose:()=>{j(null),t(3),N("/cardapio")},adicionarAoCarrinho:e=>{if(!1===e.available)return;const a={...e,productname:e.productname||e.name||e.nome||"Produto",name:e.productname||e.name||e.nome||"Produto",nome:e.productname||e.name||e.nome||"Produto"};x((e=>{const r=e.find((e=>e.id===a.id&&e.comentario===a.comentario));return r?e.map((e=>e===r?{...e,quantidade:e.quantidade+a.quantidade}:e)):[...e,{...a}]}))},irParaCarrinho:U,voltarParaProdutos:X})]})}),r.jsxs(e.Suspense,{fallback:null,children:[v&&r.jsx(V,{items:y,onClose:()=>b(!1),onRemoveItem:e=>{x((a=>a.filter((a=>a.id!==e))))},onClearCart:Q,voltarParaProdutos:X,onUpdateQuantidade:(e,a)=>{x((r=>r.map((r=>r.id===e?{...r,quantidade:a}:r))))},onFinalizarPedido:()=>{b(!1),C(!0)}}),w&&r.jsx(q,{carrinho:y,totalPedido:y.reduce(((e,a)=>e+a.preco*a.quantidade),0),onCancelar:()=>{C(!1),t(3),N("/cardapio")},limparCarrinho:Q,voltarParaInicio:()=>{l(null),j(null),t(1),N("/")}})]}),E&&r.jsxs("button",{title:"Voltar ao topo",className:"button-to-top active",onClick:R,children:[r.jsx("div",{children:r.jsx(f,{})}),r.jsx("div",{children:"Voltar ao topo"})]}),r.jsxs(e.Suspense,{fallback:null,children:[r.jsx(S,{}),r.jsx(F,{})]})]})}function K(){return r.jsx(m,{children:r.jsx(H,{})})}j.createRoot(document.getElementById("root")).render(r.jsx(a.StrictMode,{children:r.jsx(K,{})}));export{A as P,w as W,E as a,I as d,C as g};
