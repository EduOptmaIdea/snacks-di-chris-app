import{r as e,j as a,Y as n}from"./vendor.D0HLXYg7.js";function o({carrinho:o,onCancelar:r,totalPedido:c,limparCarrinho:i,voltarParaInicio:s}){const[t,l]=e.useState({nome:"",telefone:"",endereco:"",bairro:"",cidade:"Goi√¢nia",numero:"",semNumero:!1,complemento:"",referencia:"",instrucoes:"",pagamento:"Pix",troco:""}),[d,m]=e.useState(!1),p=e=>{const{name:a,value:n,type:o,checked:r}=e.target;l((e=>({...e,[a]:"checkbox"===o?r:n})))};return a.jsx("div",{className:"finalizacao-overlay",children:a.jsxs("div",{className:"finalizacao-modal",children:[a.jsx("h2",{children:"Finalizar Pedido"}),d?a.jsxs("div",{children:[a.jsx("div",{className:"mensagem-envio",children:"Seu pedido vai ser enviado atrav√©s do WhatsApp e ser√° conclu√≠do pelo nosso time de atendimento assim que recebermos sua mensagem."}),a.jsxs("div",{className:"botoes-finalizacao",children:[a.jsx("button",{className:"btn-cancelar-envio",onClick:()=>{s()},children:"Cancelar"}),a.jsxs("button",{className:"btn-confirmar-envio",onClick:()=>{const e=`üôã‚Äç‚ôÄÔ∏è Ol√°, esse √© o meu pedido para\n*SNACKS di Chris*\n\n---------------------------\nüì¶ *ITENS DO PEDIDO:*\n\n${o.map((e=>{const a=e.quantidade||1,n=e.productname||e.name||e.nome||"Produto";console.log("Nome do produto no carrinho:",n,e);const o=(e.price||e.preco||0).toFixed(2),r=(a*parseFloat(o)).toFixed(2);return`üìù *${n}*\nQtd: *${a}*\n*${e.comentario?`Obs: ${e.comentario}`:"Sem observa√ß√µes"}*\nSubtotal: *R$ ${r}* üîö`})).join("\n\n")}\n\n---------------------------\n‚ÑπÔ∏è *DADOS DO CLIENTE*\n\n‚Ä¢ Nome: *${t.nome.toUpperCase()}*\n‚Ä¢ WhatsApp: *${t.telefone}*\n\nüöö *DADOS PARA ENTREGA*\n\n‚Ä¢ Endere√ßo: *${t.endereco}${t.numero?`, N¬∫ ${t.numero}`:""}${t.semNumero?" (Sem n√∫mero)":""}${t.complemento?`, ${t.complemento}`:""}*\n‚Ä¢ Bairro: *${t.bairro}*\n‚Ä¢ Cidade: *${t.cidade}*\n‚Ä¢ Refer√™ncia: *${t.referencia||"---"}*\n\n‚Ä¢ Instru√ß√µes de Entrega:\n*${t.instrucoes||"---"}*\n---------------------------\n\nü§ë *TOTAL E PAGAMENTO:*\n\nüí∞ Total: *R$ ${parseFloat(c).toFixed(2)}*\nüí≥ Pagamento em: *${t.pagamento}*`+("dinheiro"===t.pagamento?t.troco?` (Troco para *R$ ${parseFloat(t.troco).toFixed(2)}*)`:" (Sem troco informado)":"")+"\n\n_Pedido gerado automaticamente pelo Card√°pio Digital SNACKS di Chris._";const a=`https://wa.me/5562999944838?text=${encodeURIComponent(e).replace(/%20/g," ").replace(/%2A/g,"*").replace(/%2D/g,"-").replace(/%3A/g,":").replace(/%2C/g,",").replace(/%C3%A7/g,"√ß").replace(/%C3%A3/g,"√£").replace(/%C3%A1/g,"√°").replace(/%C3%AA/g,"√™").replace(/%C3%A9/g,"√©").replace(/%C3%AD/g,"√≠").replace(/%C3%B4/g,"√¥").replace(/%C3%B5/g,"√µ").replace(/%C3%BA/g,"√∫").replace(/%C3%A2/g,"√¢").replace(/%C3%A0/g,"√†")}`;window.open(a,"_blank"),i(),s()},children:[a.jsx(n,{className:"icon-whatsapp"})," Confirmar e Enviar"]})]})]}):a.jsxs("div",{className:"form",children:[a.jsx("input",{name:"nome",placeholder:"Nome completo",value:t.nome,onChange:p,required:!0}),a.jsx("input",{name:"telefone",placeholder:"WhatsApp (ex: 62999998888)",value:t.telefone,onChange:p,required:!0}),a.jsx("input",{name:"endereco",placeholder:"Endere√ßo (Rua, Av., etc.)",value:t.endereco,onChange:p,required:!0}),a.jsx("input",{name:"bairro",placeholder:"Bairro",value:t.bairro,onChange:p,required:!0}),a.jsx("input",{name:"cidade",placeholder:"Cidade",value:t.cidade,onChange:p,required:!0}),a.jsxs("div",{className:"numero-row",children:[a.jsx("input",{name:"numero",placeholder:"N√∫mero",value:t.numero,onChange:p,disabled:t.semNumero}),a.jsxs("label",{children:[a.jsx("input",{type:"checkbox",name:"semNumero",checked:t.semNumero,onChange:p})," Sem n√∫mero"]})]}),a.jsx("input",{name:"complemento",placeholder:"Complemento (quadra, lote, casa, etc.)",value:t.complemento,onChange:p,required:t.semNumero}),a.jsx("input",{name:"referencia",placeholder:"Ponto de refer√™ncia (port√£o cinza, casa com muro vermelho, etc.)",value:t.referencia,onChange:p}),a.jsx("input",{name:"instrucoes",placeholder:"Instru√ß√µes de entrega (me encontra na cal√ßada, entregue ao porteiro, etc.)",value:t.instrucoes,onChange:p}),a.jsxs("select",{name:"pagamento",value:t.pagamento,onChange:p,children:[a.jsx("option",{value:"Pix",children:"Pix"}),a.jsx("option",{value:"cartao",children:"Cart√£o"}),a.jsx("option",{value:"dinheiro",children:"Dinheiro"})]}),"dinheiro"===t.pagamento&&a.jsx("input",{name:"troco",placeholder:"Troco para quanto?",value:t.troco,onChange:p}),a.jsxs("div",{className:"botoes-finalizacao",children:[a.jsx("button",{className:"btn-cancelar",onClick:r,children:"Cancelar"}),a.jsxs("button",{className:"btn-enviar",onClick:()=>{t.nome&&t.telefone&&t.endereco&&t.bairro&&t.cidade?m(!0):alert("Preencha todos os campos obrigat√≥rios.")},children:[a.jsx(n,{className:"icon-whatsapp"})," Enviar pedido pelo WhatsApp"]})]})]})]})})}export{o as default};
