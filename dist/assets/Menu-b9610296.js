import{R as w,r as n,j as s,m as o,a as C}from"./vendor-6172415f.js";import{a as L}from"./index-ab8fc89b.js";const p=window.innerWidth<768?4:6;function u(){return s.jsxs("div",{className:"produto-card skeleton",children:[s.jsx("div",{className:"produto-img skeleton-img"}),s.jsxs("div",{className:"produto-info",children:[s.jsx("div",{className:"skeleton-text"}),s.jsx("div",{className:"skeleton-text small"})]})]})}function k({categoriaSelecionada:t,produtos:l=[],onProdutoClick:x,categoriasOrdenadas:j=[],onVoltar:g}){const[r,h]=n.useState(""),[d,N]=n.useState(!0);n.useEffect(()=>{const e=setTimeout(()=>N(!1),1e3);return()=>clearTimeout(e)},[l]);const f=e=>e?e.endsWith(".webp")?e:e.split("?")[0].replace(/\.(jpg|jpeg|png)$/i,".webp"):"/products/default.webp",i=l.map(e=>({...e,imageUrl:f(L(e.images))})),y=j.map(e=>{const a=i.filter(c=>c.category===e&&c.productname.toLowerCase().includes(r.toLowerCase()));return{nome:e,produtos:a}}).filter(e=>e.produtos.length>0),v=t?i.filter(e=>e.category===t.category&&e.productname.toLowerCase().includes(r.toLowerCase())):i.filter(e=>e.productname.toLowerCase().includes(r.toLowerCase())),m=e=>s.jsxs(o.div,{className:"produto-card",onClick:()=>x(e),whileHover:{scale:1.03},children:[s.jsx("div",{className:"produto-img-container",children:s.jsxs("picture",{children:[s.jsx("source",{srcSet:e.imageUrl,type:"image/webp"}),s.jsx("img",{src:e.imageUrl.replace(".webp",".jpg"),alt:e.productname,className:"produto-img",loading:"lazy",onError:a=>{a.target.src="/products/default.webp"}})]})}),s.jsxs("div",{className:"produto-info",children:[s.jsx("p",{className:"produto-nome",children:e.productname}),s.jsx("p",{className:"produto-descricao",children:e.description}),s.jsxs("p",{className:"produto-preco",children:["R$ ",e.price.toFixed(2)]})]})]},e.id);return s.jsxs(o.section,{className:"frame",initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:[s.jsxs("div",{className:"busca-e-volta",children:[s.jsx("input",{type:"text",placeholder:"Buscar produto...",className:"campo-busca",value:r,onChange:e=>h(e.target.value)}),s.jsxs("button",{className:"btn-voltar",onClick:g,children:[s.jsx("span",{className:"btn-icon",children:s.jsx(C,{size:20})}),s.jsx("span",{className:"btn-text",children:"Voltar"})]})]}),s.jsx("div",{className:"frame-title-area",children:s.jsx("h2",{className:"categoria-titulo",children:s.jsx("span",{className:"neufreit cor1",children:t?t.category:""})})}),t?s.jsx(o.div,{className:"produtos-grid",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:d?Array.from({length:p}).map((e,a)=>s.jsx(u,{},a)):v.map(m)}):y.map((e,a)=>s.jsxs("div",{className:"categoria-grupo",children:[s.jsx("div",{className:"categoria-titulo-container",children:s.jsx("h2",{className:"categoria-titulo",children:s.jsx("span",{className:"neufreit cor1",children:e.nome.toUpperCase()})})}),s.jsx(o.div,{className:"produtos-carrossel carrossel-horizontal",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*a,duration:.3},children:d?Array.from({length:p}).map((c,b)=>s.jsx(u,{},b)):e.produtos.map(m)})]},a))]})}const R=w.memo(k);export{R as default};
