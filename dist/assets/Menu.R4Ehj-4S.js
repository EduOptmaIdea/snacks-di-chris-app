import{R as e,r as a,j as s,m as t,f as r}from"./vendor.KJucXqrG.js";import{a as o}from"./index.DM8JbhO8.js";const i=window.innerWidth<768?4:6;function c(){return s.jsxs("div",{className:"produto-card skeleton",children:[s.jsx("div",{className:"produto-img skeleton-img"}),s.jsxs("div",{className:"produto-info",children:[s.jsx("div",{className:"skeleton-text"}),s.jsx("div",{className:"skeleton-text small"})]})]})}const n=e.memo((function({categoriaSelecionada:e,produtos:n=[],onProdutoClick:l,categoriasOrdenadas:d=[],onVoltar:p}){const[m,u]=a.useState(""),[x,j]=a.useState(!0);a.useEffect((()=>{const e=setTimeout((()=>j(!1)),1e3);return()=>clearTimeout(e)}),[n]);const h=e=>{if(!e)return"/products/default.webp";if(e.endsWith(".webp"))return e;return e.split("?")[0].replace(/\.(jpg|jpeg|png)$/i,".webp")},g=n.map((e=>({...e,imageUrl:h(o(e.images))}))),N=d.map((e=>{const a=g.filter((a=>a.category===e&&a.productname.toLowerCase().includes(m.toLowerCase())));return{nome:e,produtos:a}})).filter((e=>e.produtos.length>0)),f=e?g.filter((a=>a.category===e.category&&a.productname.toLowerCase().includes(m.toLowerCase()))):g.filter((e=>e.productname.toLowerCase().includes(m.toLowerCase()))),y=e=>s.jsxs(t.div,{className:"produto-card",onClick:()=>l(e),whileHover:{scale:1.03},children:[s.jsx("div",{className:"produto-img-container",children:s.jsxs("picture",{children:[s.jsx("source",{srcSet:e.imageUrl,type:"image/webp"}),s.jsx("img",{src:e.imageUrl.replace(".webp",".jpg"),alt:e.productname,className:"produto-img",loading:"lazy",onError:e=>{e.target.src="/products/default.webp"}})]})}),s.jsxs("div",{className:"produto-info",children:[s.jsx("p",{className:"produto-nome",children:e.productname}),s.jsx("p",{className:"produto-descricao",children:e.description}),s.jsxs("p",{className:"produto-preco",children:["R$ ",e.price.toFixed(2)]})]})]},e.id);return s.jsxs(t.section,{className:"frame",initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},children:[s.jsxs("div",{className:"busca-e-volta",children:[s.jsx("input",{type:"text",placeholder:"Buscar produto...",className:"campo-busca",value:m,onChange:e=>u(e.target.value)}),s.jsxs("button",{className:"btn-voltar",onClick:p,children:[s.jsx("span",{className:"btn-icon",children:s.jsx(r,{size:20})}),s.jsx("span",{className:"btn-text",children:"Voltar"})]})]}),e&&s.jsx("div",{className:"frame-title-area",children:s.jsx("h2",{className:"categoria-titulo",children:s.jsx("span",{className:"neufreit cor1",children:e.category})})}),e?s.jsx(t.div,{className:"produtos-grid",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:x?Array.from({length:i}).map(((e,a)=>s.jsx(c,{},a))):f.map(y)}):N.map(((e,a)=>s.jsxs("div",{className:"categoria-grupo",children:[s.jsx("div",{className:"categoria-titulo-container",children:s.jsx("h2",{className:"categoria-titulo",children:s.jsx("span",{className:"neufreit cor1",children:e.nome.toUpperCase()})})}),s.jsx(t.div,{className:"produtos-carrossel carrossel-horizontal",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*a,duration:.3},children:x?Array.from({length:i}).map(((e,a)=>s.jsx(c,{},a))):e.produtos.map(y)})]},a)))]})}));export{n as default};
